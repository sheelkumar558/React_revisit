{"ast":null,"code":"import _toConsumableArray from \"C:/Users/Ipcc/Desktop/React_revisit/shopping-cart/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"C:/Users/Ipcc/Desktop/React_revisit/shopping-cart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Ipcc\\\\Desktop\\\\React_revisit\\\\shopping-cart\\\\src\\\\context.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n/* eslint no-unused-vars: 0 */\nimport React from \"react\";\nimport productData from \"./data\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Context = /*#__PURE__*/React.createContext();\nexport var AppContextProvider = function AppContextProvider(props) {\n  _s();\n\n  var _React$useState = React.useState(productData),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      products = _React$useState2[0],\n      setProducts = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      shoppingCart = _React$useState4[0],\n      setShoppingCart = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      totalCartPrice = _React$useState6[0],\n      setTotalCartPrice = _React$useState6[1];\n\n  var filterProductsByName = React.useCallback(function (name) {\n    var temp = products.filter(function (item) {\n      return item.name.includes(name);\n    });\n    setProducts(temp);\n  }, []);\n  var addProductToCart = React.useCallback(function (product) {\n    setTotalCartPrice(totalCartPrice + product.pricePerUnit);\n    setShoppingCart([].concat(_toConsumableArray(shoppingCart), [product]));\n  }, [shoppingCart, totalCartPrice]);\n  var removeProductFromCartAtIndex = React.useCallback(function (index) {\n    setTotalCartPrice(totalCartPrice - shoppingCart[index].pricePerUnit);\n    shoppingCart.splice(index, 1);\n    var temp = shoppingCart;\n    setShoppingCart(temp);\n  }, [shoppingCart, totalCartPrice]);\n  var providerValue = React.useMemo(function () {\n    return {\n      products: products,\n      shoppingCart: shoppingCart,\n      totalCartPrice: totalCartPrice,\n      actions: {\n        filterProductsByName: filterProductsByName,\n        addProductToCart: addProductToCart,\n        removeProductFromCartAtIndex: removeProductFromCartAtIndex\n      }\n    };\n  }, [products, shoppingCart, totalCartPrice, filterProductsByName, addProductToCart, removeProductFromCartAtIndex]);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: providerValue,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(AppContextProvider, \"02/UI/UIOh22K3uPa5YmxI5Z3cM=\");\n\n_c = AppContextProvider;\nexport default Context;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppContextProvider\");","map":{"version":3,"sources":["C:/Users/Ipcc/Desktop/React_revisit/shopping-cart/src/context.js"],"names":["React","productData","Context","createContext","AppContextProvider","props","useState","products","setProducts","shoppingCart","setShoppingCart","totalCartPrice","setTotalCartPrice","filterProductsByName","useCallback","name","temp","filter","item","includes","addProductToCart","product","pricePerUnit","removeProductFromCartAtIndex","index","splice","providerValue","useMemo","actions","children"],"mappings":";;;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,QAAxB;;AAEA,IAAMC,OAAO,gBAAGF,KAAK,CAACG,aAAN,EAAhB;AAEA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,KAAK,EAAI;AAAA;;AACzC,wBAAgCL,KAAK,CAACM,QAAN,CAAeL,WAAf,CAAhC;AAAA;AAAA,MAAOM,QAAP;AAAA,MAAiBC,WAAjB;;AACA,yBAAwCR,KAAK,CAACM,QAAN,CAAe,EAAf,CAAxC;AAAA;AAAA,MAAOG,YAAP;AAAA,MAAqBC,eAArB;;AACA,yBAA4CV,KAAK,CAACM,QAAN,CAAe,CAAf,CAA5C;AAAA;AAAA,MAAOK,cAAP;AAAA,MAAuBC,iBAAvB;;AAEA,MAAMC,oBAAoB,GAAGb,KAAK,CAACc,WAAN,CAAkB,UAAAC,IAAI,EAAI;AACrD,QAAIC,IAAI,GAAGT,QAAQ,CAACU,MAAT,CAAgB,UAAAC,IAAI;AAAA,aAAEA,IAAI,CAACH,IAAL,CAAUI,QAAV,CAAmBJ,IAAnB,CAAF;AAAA,KAApB,CAAX;AACAP,IAAAA,WAAW,CAACQ,IAAD,CAAX;AACD,GAH4B,EAG1B,EAH0B,CAA7B;AAIA,MAAMI,gBAAgB,GAAGpB,KAAK,CAACc,WAAN,CAAkB,UAAAO,OAAO,EAAI;AACpDT,IAAAA,iBAAiB,CAACD,cAAc,GAACU,OAAO,CAACC,YAAxB,CAAjB;AACAZ,IAAAA,eAAe,8BAAKD,YAAL,IAAmBY,OAAnB,GAAf;AACD,GAHwB,EAGtB,CAACZ,YAAD,EAAeE,cAAf,CAHsB,CAAzB;AAIA,MAAMY,4BAA4B,GAAGvB,KAAK,CAACc,WAAN,CAAkB,UAAAU,KAAK,EAAI;AAC9DZ,IAAAA,iBAAiB,CAACD,cAAc,GAACF,YAAY,CAACe,KAAD,CAAZ,CAAoBF,YAApC,CAAjB;AACAb,IAAAA,YAAY,CAACgB,MAAb,CAAoBD,KAApB,EAA2B,CAA3B;AACA,QAAIR,IAAI,GAAGP,YAAX;AACAC,IAAAA,eAAe,CAACM,IAAD,CAAf;AACD,GALoC,EAKlC,CAACP,YAAD,EAAeE,cAAf,CALkC,CAArC;AAQA,MAAMe,aAAa,GAAG1B,KAAK,CAAC2B,OAAN,CACpB;AAAA,WAAO;AACLpB,MAAAA,QAAQ,EAARA,QADK;AAELE,MAAAA,YAAY,EAAZA,YAFK;AAGLE,MAAAA,cAAc,EAAdA,cAHK;AAILiB,MAAAA,OAAO,EAAE;AACPf,QAAAA,oBAAoB,EAApBA,oBADO;AAEPO,QAAAA,gBAAgB,EAAhBA,gBAFO;AAGPG,QAAAA,4BAA4B,EAA5BA;AAHO;AAJJ,KAAP;AAAA,GADoB,EAWpB,CACEhB,QADF,EAEEE,YAFF,EAGEE,cAHF,EAIEE,oBAJF,EAKEO,gBALF,EAMEG,4BANF,CAXoB,CAAtB;AAqBA,sBACE,QAAC,OAAD,CAAS,QAAT;AAAkB,IAAA,KAAK,EAAEG,aAAzB;AAAA,cAAyCrB,KAAK,CAACwB;AAA/C;AAAA;AAAA;AAAA;AAAA,WADF;AAGD,CA7CM;;GAAMzB,kB;;KAAAA,kB;AA8Cb,eAAeF,OAAf","sourcesContent":["/* eslint no-unused-vars: 0 */\nimport React from \"react\";\nimport productData from \"./data\";\n\nconst Context = React.createContext();\n\nexport const AppContextProvider = props => {\n  const [products, setProducts] = React.useState(productData);\n  const [shoppingCart, setShoppingCart] = React.useState([]);\n  const [totalCartPrice, setTotalCartPrice] = React.useState(0);\n\n  const filterProductsByName = React.useCallback(name => {\n    let temp = products.filter(item=>item.name.includes(name));\n    setProducts(temp);\n  }, []);\n  const addProductToCart = React.useCallback(product => {\n    setTotalCartPrice(totalCartPrice+product.pricePerUnit);\n    setShoppingCart([...shoppingCart, product]);\n  }, [shoppingCart, totalCartPrice]);\n  const removeProductFromCartAtIndex = React.useCallback(index => {\n    setTotalCartPrice(totalCartPrice-shoppingCart[index].pricePerUnit);\n    shoppingCart.splice(index, 1);\n    let temp = shoppingCart\n    setShoppingCart(temp);\n  }, [shoppingCart, totalCartPrice]);\n\n\n  const providerValue = React.useMemo(\n    () => ({\n      products,\n      shoppingCart,\n      totalCartPrice,\n      actions: {\n        filterProductsByName,\n        addProductToCart,\n        removeProductFromCartAtIndex\n      }\n    }),\n    [\n      products,\n      shoppingCart,\n      totalCartPrice,\n      filterProductsByName,\n      addProductToCart,\n      removeProductFromCartAtIndex\n    ]\n  );\n\n  return (\n    <Context.Provider value={providerValue}>{props.children}</Context.Provider>\n  );\n};\nexport default Context;\n"]},"metadata":{},"sourceType":"module"}